{
  "hash": "8ca1a5adbee73b297ee04e124301e2fd",
  "result": {
    "markdown": "---\ntitle: \"Tidy Tuesday - World Cup Edition\"\nauthor: \"Sam Weiner\"\ndate: \"2022-12-11\"\ncategories: [tidytuesday, analysis]\n---\n\n\n# TidyTuesday\n\nTidy Tuesday is an awesome initiative by the R for Data Science Community where data sets are published every week for the R community share any analysis and visualizations that can be conjured from the data!\n\n## World Cup Data\n\nThis data set contains data on every World Cup since 1930.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidytuesdayR)\nlibrary(tidymodels)\ntheme_set(theme_light())\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntt <- tt_load(\"2022-11-29\")\ntt\n```\n:::\n\n\n\n\n## Load in the World Cup data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmatches <- tt$wcmatches\nwcups <- tt$worldcups\n\nmatches\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 900 × 15\n    year country city      stage home_…¹ away_…² home_…³ away_…⁴ outcome win_c…⁵\n   <dbl> <chr>   <chr>     <chr> <chr>   <chr>     <dbl>   <dbl> <chr>   <chr>  \n 1  1930 Uruguay Montevid… Grou… France  Mexico        4       1 H       <NA>   \n 2  1930 Uruguay Montevid… Grou… Belgium United…       0       3 A       <NA>   \n 3  1930 Uruguay Montevid… Grou… Brazil  Yugosl…       1       2 A       <NA>   \n 4  1930 Uruguay Montevid… Grou… Peru    Romania       1       3 A       <NA>   \n 5  1930 Uruguay Montevid… Grou… Argent… France        1       0 H       <NA>   \n 6  1930 Uruguay Montevid… Grou… Chile   Mexico        3       0 H       <NA>   \n 7  1930 Uruguay Montevid… Grou… Bolivia Yugosl…       0       4 A       <NA>   \n 8  1930 Uruguay Montevid… Grou… Paragu… United…       0       3 A       <NA>   \n 9  1930 Uruguay Montevid… Grou… Uruguay Peru          1       0 H       <NA>   \n10  1930 Uruguay Montevid… Grou… Argent… Mexico        6       3 H       <NA>   \n# … with 890 more rows, 5 more variables: winning_team <chr>,\n#   losing_team <chr>, date <date>, month <chr>, dayofweek <chr>, and\n#   abbreviated variable names ¹​home_team, ²​away_team, ³​home_score,\n#   ⁴​away_score, ⁵​win_conditions\n```\n:::\n\n```{.r .cell-code}\nmatches %>% \n  count(home_score, away_score, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 49 × 3\n   home_score away_score     n\n        <dbl>      <dbl> <int>\n 1          1          0    94\n 2          2          1    90\n 3          1          1    87\n 4          0          1    78\n 5          0          0    71\n 6          2          0    59\n 7          1          2    51\n 8          0          2    40\n 9          3          1    36\n10          2          2    34\n# … with 39 more rows\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmatches |> \n  filter(outcome != \"D\") |>\n  count(winning_team, sort = TRUE)|>\n  filter(n > 5) |> \n  ggplot() +\n  geom_col(aes(fct_reorder(winning_team, n, max), n)) + \n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmatches <- matches %>% \n  mutate(stage = if_else(str_detect(stage, \"^Group\"), \"Group\",stage)) %>% \n  mutate(stage = if_else(str_detect(stage, \"^ Group\"), \"Group\",stage)) %>% \n  mutate(dayofweek = factor(dayofweek, c(\"Monday\", \"Tuesday\", \"Wednesday\",\n                                         \"Thursday\", \"Friday\", \"Saturday\", \n                                         \"Sunday\")))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmatches %>%\n  filter(stage != \"Group\")|>\n  ggplot(aes(dayofweek, fill = stage)) + \n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwcups %>% view()\n\nwcups %>% \n  count(year, wt = goals_scored, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 21 × 2\n    year     n\n   <dbl> <dbl>\n 1  1998   171\n 2  2014   171\n 3  2018   169\n 4  2002   161\n 5  2006   147\n 6  1982   146\n 7  2010   145\n 8  1994   141\n 9  1954   140\n10  1986   132\n# … with 11 more rows\n```\n:::\n\n```{.r .cell-code}\nwcups %>% \n  ggplot(aes(year, goals_scored)) +\n  geom_line() +\n  geom_line(aes(year, games))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}